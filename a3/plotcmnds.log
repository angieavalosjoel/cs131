Task 3.

awk command to find number of passengers
 awk -F , ' { print $4 } ' 2019-08.csv | sort | uniq -c | sort -nr > a3t3test.txt

awk command to find average of tip amount (changes for each passenger amount)
awk -F , '{if ($4 == "3.0") print $14}' 2019-08.csv | awk '{ total += $1 } END { print total/NR }' >> a3t3box.dat

cat a3t3.dat

1.0,2.18349
2.0,2.19973
3.0,2.11897
5.0,2.21229
6.0,2.20128
4.0,1.98203
0.0,2.08561
7.0,7.42775
8.0,7.3375
9.0,4.55316

a3t3bar.plt

set boxwidth 0.6 relative
set style fill solid 1.0 
set style histogram 

set datafile separator ','

set terminal svg
set out 'a3t3.svg'

set title "Average Tip Amount Over Number of Passengers"
set xlabel "Number of Passengers"
set ylabel "Tip Amount"

set yrange[0:250]

plot 'a3t3tip.dat' using 1:2:xtic(1) with boxes lc rgb 'gray' title "a3t3tip.dat"

gnuplot> load 'a3t3bar.plt'

Task 4.
awk command to find the average paid amount over entries with same travel distance

awk -F , ' { sum[$5] += $17; count[$5]++} END { for (distance in sum) { print distance "," sum[distance] / count[distance]; } } ' 2019-08.csv > a3t4.dat

a3t4.dat

24.93,77.4889
1.38,13.2851
45.33,219.55
24.94,89.1273
1.39,13.3584
24.95,79.4221
24.96,92.8225
24.97,85.7309
24.98,87.497
4.0,22.7869

a3t4.plt

#!/usr/local/bin/gnuplot -persist
set style fill transparent solid 0.2 noborder

set datafile separator ','

set terminal svg
set out 'a3t4.svg'

#set dummy u, v
#set key fixed right top vertical Right noreverse enhanced #autotitle box lt black linewidth 1.000 dashtype solid

gnuplot> load 'a3t3.plt'
